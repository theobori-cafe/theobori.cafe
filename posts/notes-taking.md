---
title: Personal notes taking with synchronization
date: "2023-10-26"
---

I was looking for a note app and like everyone else I found Obsidian, Notion, Evernote, Miro, etc. These are all excellent choices but I wanted something simpler and more in line with the KISS (Keep It Simple, Stupid) philosophy.
&nbsp;

Notesnook was the best choice for me, but unfortunately self-hosting is not yet implemented. Also, I was looking for a solution that would allow me to synchronize my notes, and Notesnook didn't seem to be the best choice.
&nbsp;

So I finally decided to use Joplin coupled with [my private cloud](https://cloud.theobori.cafe) managed by Nextcloud.
&nbsp;

<center>
    <img src="/joplin_nextcloud.png" width="400px">
</center>
&nbsp;

Joplin is open-source, free and available for Linux, Windows, macOS, Android and IOS. It supports end-to-end note encryption and there are plenty of user-side plugins available.

## Implementation

Activating synchronization is very simple to set up. First of all, you need to have an account on a Nextcloud instance. Unless you're only on a private network only, it's best to have a domain name to expose Nextcloud to the Internet. This will enable you to access your notes securely from anywhere.
&nbsp;
There are several ways of setting up a Nextcloud instance. Personally, I've opted for a conteuneurized solution managed by Docker compose.

```yaml
version: '2'

services:
  db:
    image: mariadb:10.6
    restart: always
    command: --transaction-isolation=READ-COMMITTED --log-bin=binlog --binlog-format=ROW
    volumes:
      - db:/var/lib/mysql
    env_file:
      - .env
    networks:
      - nextcloud_net
  
  redis:
    image: "redis:alpine"
    restart: always
    command: redis-server --requirepass ${REDIS_HOST_PASSWORD}
    env_file:
      - .env
    volumes:
      - ./redis/data:/var/lib/redis
    environment:
      - REDIS_REPLICATION_MODE=master
    networks:
      - nextcloud_net

  app:
    image: nextcloud
    restart: always
    ports:
      - 127.0.0.1:8000:80
    volumes:
      - nextcloud:/var/www/html
    env_file:
      - .env
    environment:
      - MYSQL_HOST=db
      - REDIS_HOST=redis
    networks:
      - ldap_net
      - nextcloud_net

volumes:
  nextcloud:
  db:

networks:
  ldap_net:
    external: true
  nextcloud_net:
```
&nbsp;
The port 8000 of the container `app` is exposed to internet thanks to an NGINX instance on the system.
&nbsp;
The `ldap_net` network in my case is necessary because I have integrated OpenLDAP into the user authentication/creation system.
&nbsp;
Once access to Nextcloud has been established, simply go to the files and retrieve the WebDAV link previously generated by Nextcloud.

In Joplin, all that's left to do is enter this link and the Nextcloud authentication informations.
